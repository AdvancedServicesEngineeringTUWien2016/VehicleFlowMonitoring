package vfma;

import java.util.ArrayList;
import java.util.Iterator;

public class ZoneLogic {
	
	
	public ArrayList<ZoneChange> calculateChanges(ArrayList<RawSensorData> rsdlist, ArrayList<SensorMap> smlist) {
		
		ArrayList<ZoneChange> zc = new ArrayList<ZoneChange>();
		
		Iterator<RawSensorData> irsd = rsdlist.iterator();
		while(irsd.hasNext()) {
			RawSensorData rsd = irsd.next();
			
			ZoneChange zcelem = new ZoneChange();
			
			Iterator<SensorMap> ism = smlist.iterator();
			while(ism.hasNext()) {
				
				SensorMap sm = ism.next();
				
				if(sm.getSensorId().equals(rsd.getSensorId())) {
					if(rsd.getPassing().equals("0")) {
						zcelem.setZoneId(sm.getLowerZoneId());
						zcelem.setIncrement(-1);
					} else {
						zcelem.setZoneId(sm.getUpperZoneId());
						zcelem.setIncrement(1);
					}
				}
				
			}
			
			zc.add(zcelem);
		}
		
		
		
		return zc;
		
	}

}
